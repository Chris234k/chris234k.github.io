---
layout: null
title: Typing Practice
permalink: /typing/
---

<!DOCTYPE html>
<html>
	<head> 
		<link rel="stylesheet" href="/assets/css/typing-styles.css">
	</head>
<body onload="onLoad()">

<br>
Woah. What are you doing here? You're not supposed to be here...

<div class="main-box">
	<p id="score"></p>
	<p id="time">/p>
	<p id="wpm"></p>
	<button onclick="reset()">Reset</button>
	<br>
	<br>
	
	<p class="typing-font" id="target" style="padding-left: 1px;"></p>
	<input class="typing-font" id="inputField" placeholder="Begin typing..." style="border: none; width: 100%;" oninput="inputChange()">
</div>

<script>
	score = 0;
	isTiming = false;
	startTime = Date.now();
	document.addEventListener("keydown", onKeyDown, false);
	
	function onKeyDown(key) {
		if(!isTiming) {
			isTiming = true;
			startTime = Date.now();
		}
		
		if(key.key == "Escape") {
			reset();
		}
	}
	
	function onLoad() {
		document.getElementById("target").innerText = "The quick brown fox jumps over the lazy dog.";
		document.getElementById("inputField").focus();
		
		reset();
	}
	
	function reset() {
		isTiming = false;
		score = 0;
		startTime = Date.now();
		document.getElementById("inputField").value = "";
		setScoreText(score, 0, 0);
		document.getElementById("time").innerText = "elapsed: " + 0;
		document.getElementById("wpm").innerText = "wpm: " + 0;
	}
	
	function inputChange() {
		typed = document.getElementById("inputField").value;
		target = document.getElementById("target").innerText;
		
		score = 0;
		for(i = 0; i < typed.length; i++) {
			if(i < target.length) {
				if(typed.charAt(i) == target.charAt(i)) {
					score++;
				}
			}
		}
		
		setScoreText(score, typed.length, target.length);
		
		elapsed = (Date.now() - startTime) / 1000;
		document.getElementById("time").innerText = "elapsed: " + elapsed;
		
		// https://www.speedtypingonline.com/typing-equations
		wpm = Math.floor((typed.length / 5) / (elapsed / 60));
		document.getElementById("wpm").innerText = "wpm: " + wpm;
	}
	
	function setScoreText(currentScore, numTyped, targetLength) {
		accuracy = 0;
		if(numTyped > 0) {
			accuracy = (currentScore / numTyped) * 100;
			accuracy = accuracy.toFixed(0);
		}
		
		document.getElementById("score").innerText = "score: " + currentScore + "/" + targetLength + " (" + accuracy + "%)";
	}
</script>

</body>
</html>