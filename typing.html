<!DOCTYPE html>
<html>
	<head> 
		<link rel="stylesheet" href="assets/css/typing-styles.css">
	</head>
<body onload="onLoad()">

<br>
Woah. What are you doing here? You're not supposed to be here...
<br>
<br>
<br>

<div style="position: absolute; top: 50%; left:50%; transform: translate(-50%, -50%);">
	<button onclick="reset()">Reset</button>
	
	<p id="score">score: 0</p>
	<p class="typing-font" id="target" style="padding-left: 1px;"></p>
	<input class="typing-font" id="inputField" placeholder="Begin typing..." style="border: none; width: 100%;" oninput="inputChange()">
</div>

<script>
	score = 0;
	document.addEventListener("keydown", onKeyDown, false);
	
	function onKeyDown(key) {
		if(key.key == "Escape") {
			reset();
		}
	}
	
	function onLoad() {
		document.getElementById("target").innerText = "The quick brown fox jumps over the lazy dog.";
	}
	
	function reset() {
		score = 0;
		document.getElementById("inputField").value = "";
		setScoreText(score);
	}
	
	function setScoreText(targetScore) {
		document.getElementById("score").innerText = "score: " + targetScore;
	}
	
	function inputChange() {
		typed = document.getElementById("inputField").value;
		index = typed.length - 1; // TODO(Chris) again, might just be able to get input directly...
		target = document.getElementById("target").innerText;

		if(target.charAt(index) == typed.charAt(index)) {
			score++;
		} else {
			score--;
		}
		
		setScoreText(score);
	}
</script>

</body>
</html>